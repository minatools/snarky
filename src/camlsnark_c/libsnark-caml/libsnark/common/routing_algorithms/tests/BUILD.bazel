load("@rules_python//python:defs.bzl", "py_test")
load("@rules_cc//cc:defs.bzl", "cc_test")

test_suite(
    name = "tests",
    tests = [":cpp", ":python"]
)


cc_test(
    name = "cpp",
    srcs = ["test_routing_algorithms.cpp"],
    copts = ["-I.", "-Iexternal/libsnark"],
    timeout = "moderate",
    linkstatic = True,
    deps = [
        "@libff//libff/common:profiling",
        "@libff//libff/common/default_types",
        "//libsnark/common/routing_algorithms"
    ],
)

py_test(
    name = "python",
    timeout = "short",
    srcs = ["test_routing_algorithms.py"],
    main = "test_routing_algorithms.py",
    python_version = "PY2",
)
